<dx:ThemedWindow 
    x:Class="ClipboardPilot.Views.SettingsWindow"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:dx="http://schemas.devexpress.com/winfx/2008/xaml/core"
    xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
    Title="Clipboard Pilot - Settings" 
    Height="600" Width="700"
    WindowStartupLocation="CenterScreen"
    ResizeMode="NoResize">
    
    <Grid Margin="10">
        <Grid.RowDefinitions>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>
        
        <!-- Settings Tabs -->
        <TabControl Grid.Row="0">
            <!-- General Tab -->
            <TabItem Header="General">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Startup Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <CheckBox Content="Start with Windows" 
                                  IsChecked="{Binding Settings.General.StartWithWindows}"
                                  Margin="0,5"/>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Startup Delay (seconds):" Margin="0,0,0,5"/>
                            <dxe:SpinEdit Value="{Binding Settings.General.StartupDelay}" 
                                          MinValue="0" MaxValue="60" Increment="1"/>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Maximum Items to Keep:" Margin="0,0,0,5"/>
                            <dxe:SpinEdit Value="{Binding Settings.General.MaxItemsToKeep}" 
                                          MinValue="100" MaxValue="10000" Increment="100"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Collection Tab -->
            <TabItem Header="Collection">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Clipboard Collection" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <CheckBox Content="Enable clipboard monitoring" 
                                  IsChecked="{Binding Settings.Collection.Enabled}"
                                  Margin="0,5"/>
                        
                        <CheckBox Content="Filter sensitive data" 
                                  IsChecked="{Binding Settings.Collection.FilterSensitiveData}"
                                  Margin="0,5"/>
                        
                        <TextBlock Text="Image Settings" FontWeight="Bold" FontSize="14" Margin="0,20,0,10"/>
                        
                        <CheckBox Content="Save images" 
                                  IsChecked="{Binding Settings.Collection.SaveImages}"
                                  Margin="0,5"/>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Image Storage Mode:" Margin="0,0,0,5"/>
                            <ComboBox SelectedValue="{Binding Settings.Collection.ImageStorageMode}">
                                <ComboBoxItem Content="Database" Tag="Database"/>
                                <ComboBoxItem Content="File Cache" Tag="FileCache"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Thumbnail Size (px):" Margin="0,0,0,5"/>
                            <dxe:SpinEdit Value="{Binding Settings.Collection.ThumbnailSize}" 
                                          MinValue="64" MaxValue="512" Increment="32"/>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Max Image Size (MB):" Margin="0,0,0,5"/>
                            <dxe:SpinEdit Value="{Binding Settings.Collection.MaxImageSizeMB}" 
                                          MinValue="1" MaxValue="50" Increment="1"/>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Paste Tab -->
            <TabItem Header="Paste">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Paste Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Default Format:" Margin="0,0,0,5"/>
                            <ComboBox SelectedValue="{Binding Settings.Paste.DefaultFormat}">
                                <ComboBoxItem Content="Text" Tag="Text"/>
                                <ComboBoxItem Content="HTML" Tag="HTML"/>
                                <ComboBoxItem Content="RTF" Tag="RTF"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Multi-Item Separator:" Margin="0,0,0,5"/>
                            <TextBox Text="{Binding Settings.Paste.MultiItemSeparator}"/>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Line Ending Style:" Margin="0,0,0,5"/>
                            <ComboBox SelectedValue="{Binding Settings.Paste.LineEndingStyle}">
                                <ComboBoxItem Content="Windows (CRLF)" Tag="Windows"/>
                                <ComboBoxItem Content="Mac/Linux (LF)" Tag="Mac"/>
                            </ComboBox>
                        </StackPanel>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Hotkeys Tab -->
            <TabItem Header="Hotkeys">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Global Hotkeys" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Show Mini Panel:" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0" Text="{Binding Settings.Hotkeys.ShowMiniPanel}" 
                                         Margin="0,0,5,0"/>
                                <Button Grid.Column="1" Content="Test" 
                                        Command="{Binding TestHotkeyCommand}" 
                                        CommandParameter="MiniPanel"
                                        Padding="15,5"/>
                            </Grid>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Paste Previous:" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0" Text="{Binding Settings.Hotkeys.PastePrevious}" 
                                         Margin="0,0,5,0"/>
                                <Button Grid.Column="1" Content="Test" 
                                        Command="{Binding TestHotkeyCommand}" 
                                        CommandParameter="PastePrevious"
                                        Padding="15,5"/>
                            </Grid>
                        </StackPanel>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Quick Lock:" Margin="0,0,0,5"/>
                            <Grid>
                                <Grid.ColumnDefinitions>
                                    <ColumnDefinition Width="*"/>
                                    <ColumnDefinition Width="Auto"/>
                                </Grid.ColumnDefinitions>
                                <TextBox Grid.Column="0" Text="{Binding Settings.Hotkeys.QuickLock}" 
                                         Margin="0,0,5,0"/>
                                <Button Grid.Column="1" Content="Test" 
                                        Command="{Binding TestHotkeyCommand}" 
                                        CommandParameter="QuickLock"
                                        Padding="15,5"/>
                            </Grid>
                        </StackPanel>
                        
                        <TextBlock Text="Hotkey format: Ctrl+Shift+V, Alt+X, etc." 
                                   FontSize="11" Foreground="Gray" 
                                   Margin="0,20,0,0" TextWrapping="Wrap"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Theme Tab -->
            <TabItem Header="Theme">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Appearance" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <StackPanel Margin="0,10">
                            <TextBlock Text="Theme:" Margin="0,0,0,5"/>
                            <ComboBox SelectedValue="{Binding Settings.Theme.CurrentTheme}">
                                <ComboBoxItem Content="The Bezier Light" Tag="TheBezierLight"/>
                                <ComboBoxItem Content="The Bezier Dark" Tag="TheBezierDark"/>
                                <ComboBoxItem Content="Office 2019 Colorful" Tag="Office2019Colorful"/>
                            </ComboBox>
                        </StackPanel>
                        
                        <CheckBox Content="Use Dark Mode" 
                                  IsChecked="{Binding Settings.Theme.UseDarkMode}"
                                  Margin="0,10"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
            
            <!-- Security Tab -->
            <TabItem Header="Security">
                <ScrollViewer>
                    <StackPanel Margin="20">
                        <TextBlock Text="Security Settings" FontWeight="Bold" FontSize="14" Margin="0,0,0,10"/>
                        
                        <CheckBox Content="Require PIN to view items" 
                                  IsChecked="{Binding Settings.Security.RequirePin}"
                                  Margin="0,10"/>
                        
                        <TextBlock Text="Note: Security features help protect your clipboard data." 
                                   TextWrapping="Wrap" 
                                   FontSize="11" 
                                   Foreground="Gray"
                                   Margin="0,20,0,0"/>
                    </StackPanel>
                </ScrollViewer>
            </TabItem>
        </TabControl>
        
        <!-- Action Buttons -->
        <StackPanel Grid.Row="1" Orientation="Horizontal" HorizontalAlignment="Right" Margin="0,10,0,0">
            <Button Content="Save" Command="{Binding SaveCommand}" 
                    Padding="20,8" Margin="0,0,10,0"/>
            <Button Content="Reset to Default" Command="{Binding ResetCommand}" 
                    Padding="20,8" Margin="0,0,10,0"/>
            <Button Content="Close" Click="CloseButton_Click" 
                    Padding="20,8"/>
        </StackPanel>
        
        <!-- Status Message -->
        <TextBlock Grid.Row="1" Text="{Binding StatusMessage}" 
                   Foreground="Green" 
                   VerticalAlignment="Center"
                   Margin="0,10,0,0"/>
    </Grid>
</dx:ThemedWindow>
